<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Qu·∫£n Tr·ªã - Thi·ªáp M·ª´ng Online</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff4da6;
            --primary-dark: #e33a8f;
            --accent: #ffd6ea;
            --bg: #fff7fb;
            --card: #ffffff;
            --muted: #666;
            --success: #4caf50;
            --danger: #f44336;
            --warning: #ff9800;
            --info: #2196f3;
            --sidebar-width: 260px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html, body { font-family: Inter, Arial, sans-serif; height: 100%; background: #f5f5f5; }
        
        /* Layout */
        .admin-container { display: flex; height: 100vh; }
        
        /* Sidebar */
        .sidebar { width: var(--sidebar-width); background: linear-gradient(180deg, #fff, #fff7fb); box-shadow: 2px 0 10px rgba(0,0,0,0.05); position: fixed; height: 100vh; overflow-y: auto; z-index: 100; }
        .sidebar-header { padding: 20px; border-bottom: 2px solid var(--accent); }
        .sidebar-header h2 { color: var(--primary); font-size: 1.3rem; }
        .sidebar-header .subtitle { color: var(--muted); font-size: 0.85rem; margin-top: 4px; }
        
        .sidebar-nav { padding: 10px 0; }
        .nav-item { display: block; padding: 12px 20px; color: #555; text-decoration: none; transition: all 0.3s; border-left: 3px solid transparent; }
        .nav-item:hover { background: rgba(255,77,166,0.08); color: var(--primary); border-left-color: var(--primary); }
        .nav-item.active { background: rgba(255,77,166,0.12); color: var(--primary); border-left-color: var(--primary); font-weight: 600; }
        .nav-item i { margin-right: 10px; width: 20px; display: inline-block; }
        .nav-submenu { padding-left: 30px; display: none; }
        .nav-submenu.active { display: block; }
        .nav-submenu .nav-item { padding: 8px 20px; font-size: 0.9rem; }
        
        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); flex: 1; padding: 20px; overflow-y: auto; }
        .content-header { background: var(--card); padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; }
        .content-header h1 { color: #333; font-size: 1.8rem; }
        .user-info { display: flex; align-items: center; gap: 15px; }
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .logout-btn { padding: 8px 16px; background: var(--danger); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        
        /* Dashboard Stats */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .stat-card { background: var(--card); padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .stat-card .icon { font-size: 2.5rem; margin-bottom: 10px; }
        .stat-card .value { font-size: 2rem; font-weight: 800; color: var(--primary); }
        .stat-card .label { color: var(--muted); font-size: 0.9rem; margin-top: 5px; }
        .stat-card .trend { font-size: 0.85rem; margin-top: 8px; }
        .stat-card .trend.up { color: var(--success); }
        .stat-card .trend.down { color: var(--danger); }
        
        /* Table */
        .data-table { background: var(--card); border-radius: 12px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .table-header { padding: 15px 20px; background: var(--accent); display: flex; justify-content: space-between; align-items: center; }
        .table-header h3 { color: var(--primary-dark); font-size: 1.1rem; }
        .table-controls { display: flex; gap: 10px; align-items: center; }
        .search-box { padding: 8px 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 0.9rem; width: 250px; }
        .btn { padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 0.9rem; transition: all 0.3s; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(227,58,143,0.3); }
        .btn-secondary { background: #e0e0e0; color: #555; }
        .btn-secondary:hover { background: #d0d0d0; }
        .btn-success { background: var(--success); color: white; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-warning { background: var(--warning); color: white; }
        .btn-info { background: var(--info); color: white; }
        .btn-sm { padding: 6px 12px; font-size: 0.85rem; }
        
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #f0f0f0; }
        th { background: #f8f8f8; font-weight: 600; color: #333; font-size: 0.9rem; }
        tr:hover { background: #fafafa; }
        .action-btns { display: flex; gap: 6px; }
        .action-btns .btn { padding: 6px 10px; }
        
        /* Modal */
        .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); display: none; align-items: center; justify-content: center; z-index: 2000; }
        .modal-backdrop.active { display: flex; }
        .modal { background: var(--card); padding: 30px; border-radius: 16px; width: 90%; max-width: 700px; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3); position: relative; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .modal-header h2 { color: var(--primary); font-size: 1.5rem; }
        .close-btn { background: transparent; border: none; font-size: 28px; cursor: pointer; color: #999; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 50%; }
        .close-btn:hover { background: #f0f0f0; color: #333; }
        .form-group { margin-bottom: 18px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; font-size: 0.95rem; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 0.95rem; font-family: inherit; transition: all 0.3s; }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(255,77,166,0.1); }
        .form-group textarea { resize: vertical; min-height: 100px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }
        
        /* Badges */
        .badge { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 0.8rem; font-weight: 600; }
        .badge-success { background: rgba(76,175,80,0.15); color: var(--success); }
        .badge-danger { background: rgba(244,67,54,0.15); color: var(--danger); }
        .badge-warning { background: rgba(255,152,0,0.15); color: var(--warning); }
        .badge-info { background: rgba(33,150,243,0.15); color: var(--info); }
        .badge-primary { background: rgba(255,77,166,0.15); color: var(--primary-dark); }
        
        /* Empty State */
        .empty-state { text-align: center; padding: 60px 20px; color: var(--muted); }
        .empty-state .icon { font-size: 4rem; margin-bottom: 15px; }
        .empty-state h3 { font-size: 1.2rem; margin-bottom: 8px; }
        
        /* Pagination */
        .pagination { display: flex; justify-content: center; gap: 8px; margin-top: 20px; padding: 20px; }
        .pagination .btn { min-width: 40px; }
        .pagination .btn.active { background: var(--primary); color: white; }
        
        /* Responsive */
        @media (max-width: 980px) {
            .sidebar { width: 220px; }
            .main-content { margin-left: 220px; }
            .form-row { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); transition: transform 0.3s; }
            .sidebar.active { transform: translateX(0); }
            .main-content { margin-left: 0; }
            .mobile-menu-toggle { display: block; position: fixed; top: 15px; left: 15px; z-index: 1001; background: var(--primary); color: white; border: none; padding: 10px; border-radius: 8px; font-size: 20px; }
            .stats-grid { grid-template-columns: 1fr; }
        }
        
        .mobile-menu-toggle { display: none; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>üéõÔ∏è Qu·∫£n Tr·ªã</h2>
                <div class="subtitle">Thi·ªáp M·ª´ng Online</div>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="dashboard">
                    <span>üìä</span> Dashboard
                </a>
                <a href="#" class="nav-item" data-section="templates">
                    <span>üé®</span> Qu·∫£n l√Ω M·∫´u Thi·ªáp
                </a>
                <a href="#" class="nav-item" data-section="categories">
                    <span>üìÅ</span> Qu·∫£n l√Ω Danh M·ª•c
                </a>
                <a href="#" class="nav-item" data-section="cards">
                    <span>üíù</span> Qu·∫£n l√Ω Thi·ªáp
                </a>
                <a href="#" class="nav-item" data-section="users">
                    <span>üë•</span> Qu·∫£n l√Ω Ng∆∞·ªùi D√πng
                </a>
                <a href="#" class="nav-item" data-section="packages">
                    <span>üí∞</span> Qu·∫£n l√Ω G√≥i & Gi√°
                </a>
                <a href="#" class="nav-item" data-section="testimonials">
                    <span>üí¨</span> Qu·∫£n l√Ω Ph·∫£n H·ªìi
                </a>
                <a href="#" class="nav-item" data-section="faqs">
                    <span>‚ùì</span> Qu·∫£n l√Ω FAQ
                </a>
                <a href="#" class="nav-item" data-section="contacts">
                    <span>üìß</span> Y√™u C·∫ßu Li√™n H·ªá
                </a>
                <a href="#" class="nav-item" data-section="analytics">
                    <span>üìà</span> Th·ªëng K√™
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <button class="mobile-menu-toggle" id="mobileMenuToggle">‚ò∞</button>
            
            <div class="content-header">
                <h1 id="pageTitle">Dashboard</h1>
                <div class="user-info">
                    <div class="user-avatar">A</div>
                    <div>
                        <div style="font-weight: 600;">Admin</div>
                        <div style="font-size: 0.85rem; color: var(--muted);">admin@thiepmung.vn</div>
                    </div>
                    <button class="logout-btn" onclick="window.location.href='index.html'">ƒêƒÉng xu·∫•t</button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="icon">üíù</div>
                        <div class="value" id="statCards">0</div>
                        <div class="label">Thi·ªáp ƒë√£ t·∫°o</div>
                        <div class="trend up">‚Üë 12% so v·ªõi th√°ng tr∆∞·ªõc</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon">üë•</div>
                        <div class="value" id="statUsers">0</div>
                        <div class="label">Ng∆∞·ªùi d√πng</div>
                        <div class="trend up">‚Üë 8% so v·ªõi th√°ng tr∆∞·ªõc</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon">üé®</div>
                        <div class="value" id="statTemplates">0</div>
                        <div class="label">M·∫´u thi·ªáp</div>
                        <div class="trend">Gi·ªØ nguy√™n</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon">üí∞</div>
                        <div class="value" id="statRevenue">0‚Ç´</div>
                        <div class="label">Doanh thu th√°ng n√†y</div>
                        <div class="trend up">‚Üë 25% so v·ªõi th√°ng tr∆∞·ªõc</div>
                    </div>
                </div>
                <div class="data-table">
                    <div class="table-header">
                        <h3>Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h3>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Th·ªùi gian</th>
                                <th>Ho·∫°t ƒë·ªông</th>
                                <th>Ng∆∞·ªùi d√πng</th>
                                <th>Tr·∫°ng th√°i</th>
                            </tr>
                        </thead>
                        <tbody id="recentActivities">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Templates Section -->
            <section id="templates" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Qu·∫£n l√Ω M·∫´u Thi·ªáp</h3>
                        <div class="table-controls">
                            <input type="text" class="search-box" id="templateSearch" placeholder="T√¨m ki·∫øm m·∫´u...">
                            <button class="btn btn-primary" onclick="openTemplateModal()">+ Th√™m M·∫´u</button>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>T√™n m·∫´u</th>
                                <th>Danh m·ª•c</th>
                                <th>H√¨nh ·∫£nh</th>
                                <th>Tags</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="templatesTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Categories Section -->
            <section id="categories" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Qu·∫£n l√Ω Danh M·ª•c</h3>
                        <div class="table-controls">
                            <button class="btn btn-primary" onclick="openCategoryModal()">+ Th√™m Danh M·ª•c</button>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>T√™n danh m·ª•c</th>
                                <th>M√¥ t·∫£</th>
                                <th>Icon</th>
                                <th>S·ªë m·∫´u</th>
                                <th>Th·ª© t·ª±</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="categoriesTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Cards Section -->
            <section id="cards" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Qu·∫£n l√Ω Thi·ªáp</h3>
                        <div class="table-controls">
                            <input type="text" class="search-box" id="cardSearch" placeholder="T√¨m ki·∫øm thi·ªáp...">
                            <select class="search-box" id="cardFilter" style="width: 150px;">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="active">ƒêang ho·∫°t ƒë·ªông</option>
                                <option value="inactive">ƒê√£ ·∫©n</option>
                            </select>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Ng∆∞·ªùi g·ª≠i</th>
                                <th>Ng∆∞·ªùi nh·∫≠n</th>
                                <th>M·∫´u</th>
                                <th>Ng√†y t·∫°o</th>
                                <th>L∆∞·ª£t xem</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="cardsTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Qu·∫£n l√Ω Ng∆∞·ªùi D√πng</h3>
                        <div class="table-controls">
                            <input type="text" class="search-box" id="userSearch" placeholder="T√¨m ki·∫øm ng∆∞·ªùi d√πng...">
                            <select class="search-box" id="userFilter" style="width: 150px;">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="free">G√≥i mi·ªÖn ph√≠</option>
                                <option value="premium">G√≥i n√¢ng cao</option>
                                <option value="enterprise">G√≥i doanh nghi·ªáp</option>
                            </select>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>H·ªç t√™n</th>
                                <th>Email</th>
                                <th>S·ªë ƒëi·ªán tho·∫°i</th>
                                <th>G√≥i</th>
                                <th>Ng√†y ƒëƒÉng k√Ω</th>
                                <th>S·ªë thi·ªáp</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="usersTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Packages Section -->
            <section id="packages" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Qu·∫£n l√Ω G√≥i & Gi√°</h3>
                        <div class="table-controls">
                            <button class="btn btn-primary" onclick="openPackageModal()">+ Th√™m G√≥i</button>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>T√™n g√≥i</th>
                                <th>Gi√°</th>
                                <th>Th·ªùi h·∫°n</th>
                                <th>M√¥ t·∫£</th>
                                <th>S·ªë t√≠nh nƒÉng</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="packagesTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Testimonials Section -->
            <section id="testimonials" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Qu·∫£n l√Ω Ph·∫£n H·ªìi Kh√°ch H√†ng</h3>
                        <div class="table-controls">
                            <button class="btn btn-primary" onclick="openTestimonialModal()">+ Th√™m Ph·∫£n H·ªìi</button>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>T√™n kh√°ch h√†ng</th>
                                <th>ƒê·ªãa ch·ªâ</th>
                                <th>N·ªôi dung</th>
                                <th>ƒê√°nh gi√°</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="testimonialsTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- FAQs Section -->
            <section id="faqs" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Qu·∫£n l√Ω C√¢u H·ªèi Th∆∞·ªùng G·∫∑p</h3>
                        <div class="table-controls">
                            <button class="btn btn-primary" onclick="openFAQModal()">+ Th√™m FAQ</button>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>C√¢u h·ªèi</th>
                                <th>C√¢u tr·∫£ l·ªùi</th>
                                <th>Th·ª© t·ª±</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="faqsTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Contacts Section -->
            <section id="contacts" class="content-section hidden">
                <div class="data-table">
                    <div class="table-header">
                        <h3>Y√™u C·∫ßu Li√™n H·ªá</h3>
                        <div class="table-controls">
                            <select class="search-box" id="contactFilter" style="width: 180px;">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="pending">Ch∆∞a x·ª≠ l√Ω</option>
                                <option value="processing">ƒêang x·ª≠ l√Ω</option>
                                <option value="completed">ƒê√£ x·ª≠ l√Ω</option>
                            </select>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>H·ªç t√™n</th>
                                <th>Email</th>
                                <th>S·ªë ƒëi·ªán tho·∫°i</th>
                                <th>Ch·ªß ƒë·ªÅ</th>
                                <th>N·ªôi dung</th>
                                <th>Ng√†y g·ª≠i</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="contactsTable">
                            <!-- Loaded dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="content-section hidden">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="icon">üìä</div>
                        <div class="value">15,234</div>
                        <div class="label">T·ªïng l∆∞·ª£t xem thi·ªáp</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon">üëÅÔ∏è</div>
                        <div class="value">2,341</div>
                        <div class="label">L∆∞·ª£t xem trung b√¨nh/thi·ªáp</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon">üîó</div>
                        <div class="value">8,567</div>
                        <div class="label">L∆∞·ª£t chia s·∫ª</div>
                    </div>
                    <div class="stat-card">
                        <div class="icon">üíå</div>
                        <div class="value">1,234</div>
                        <div class="label">Thi·ªáp ƒë∆∞·ª£c t·∫°o h√¥m nay</div>
                    </div>
                </div>
                <div class="data-table" style="margin-top: 20px;">
                    <div class="table-header">
                        <h3>Bi·ªÉu ƒë·ªì th·ªëng k√™</h3>
                    </div>
                    <div style="padding: 40px; text-align: center; color: var(--muted);">
                        <div style="font-size: 3rem; margin-bottom: 15px;">üìà</div>
                        <p>Bi·ªÉu ƒë·ªì th·ªëng k√™ s·∫Ω ƒë∆∞·ª£c t√≠ch h·ª£p t·∫°i ƒë√¢y</p>
                        <p style="font-size: 0.9rem; margin-top: 8px;">C√≥ th·ªÉ s·ª≠ d·ª•ng Chart.js, ApexCharts, ho·∫∑c Google Charts</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Template -->
    <div class="modal-backdrop" id="templateModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="templateModalTitle">Th√™m M·∫´u Thi·ªáp</h2>
                <button class="close-btn" onclick="closeModal('templateModal')">‚úï</button>
            </div>
            <form id="templateForm">
                <input type="hidden" id="templateId">
                <div class="form-row">
                    <div class="form-group">
                        <label>T√™n m·∫´u *</label>
                        <input type="text" id="templateName" required>
                    </div>
                    <div class="form-group">
                        <label>Danh m·ª•c *</label>
                        <select id="templateCategory" required>
                            <option value="">Ch·ªçn danh m·ª•c</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>URL h√¨nh ·∫£nh *</label>
                    <input type="text" id="templateImage" required placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group">
                    <label>Tags (ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y)</label>
                    <input type="text" id="templateTags" placeholder="C∆∞·ªõi, RSVP, Nh·∫°c">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Tr·∫°ng th√°i</label>
                        <select id="templateStatus">
                            <option value="active">Ho·∫°t ƒë·ªông</option>
                            <option value="inactive">·∫®n</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Th·ª© t·ª± hi·ªÉn th·ªã</label>
                        <input type="number" id="templateOrder" value="0" min="0">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('templateModal')">H·ªßy</button>
                    <button type="submit" class="btn btn-primary">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Category -->
    <div class="modal-backdrop" id="categoryModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="categoryModalTitle">Th√™m Danh M·ª•c</h2>
                <button class="close-btn" onclick="closeModal('categoryModal')">‚úï</button>
            </div>
            <form id="categoryForm">
                <input type="hidden" id="categoryId">
                <div class="form-row">
                    <div class="form-group">
                        <label>T√™n danh m·ª•c *</label>
                        <input type="text" id="categoryName" required>
                    </div>
                    <div class="form-group">
                        <label>Icon</label>
                        <input type="text" id="categoryIcon" placeholder="üíí">
                    </div>
                </div>
                <div class="form-group">
                    <label>M√¥ t·∫£</label>
                    <textarea id="categoryDescription"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Th·ª© t·ª± hi·ªÉn th·ªã</label>
                        <input type="number" id="categoryOrder" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>Tr·∫°ng th√°i</label>
                        <select id="categoryStatus">
                            <option value="active">Ho·∫°t ƒë·ªông</option>
                            <option value="inactive">·∫®n</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('categoryModal')">H·ªßy</button>
                    <button type="submit" class="btn btn-primary">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Package -->
    <div class="modal-backdrop" id="packageModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="packageModalTitle">Th√™m G√≥i</h2>
                <button class="close-btn" onclick="closeModal('packageModal')">‚úï</button>
            </div>
            <form id="packageForm">
                <input type="hidden" id="packageId">
                <div class="form-row">
                    <div class="form-group">
                        <label>T√™n g√≥i *</label>
                        <input type="text" id="packageName" required>
                    </div>
                    <div class="form-group">
                        <label>Gi√° (VNƒê) *</label>
                        <input type="number" id="packagePrice" required min="0">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Th·ªùi h·∫°n (th√°ng)</label>
                        <input type="number" id="packageDuration" value="1" min="1">
                    </div>
                    <div class="form-group">
                        <label>Tr·∫°ng th√°i</label>
                        <select id="packageStatus">
                            <option value="active">Ho·∫°t ƒë·ªông</option>
                            <option value="inactive">·∫®n</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>M√¥ t·∫£ t√≠nh nƒÉng (m·ªói d√≤ng m·ªôt t√≠nh nƒÉng)</label>
                    <textarea id="packageFeatures" rows="6" placeholder="- T√≠nh nƒÉng 1&#10;- T√≠nh nƒÉng 2"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('packageModal')">H·ªßy</button>
                    <button type="submit" class="btn btn-primary">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Testimonial -->
    <div class="modal-backdrop" id="testimonialModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="testimonialModalTitle">Th√™m Ph·∫£n H·ªìi</h2>
                <button class="close-btn" onclick="closeModal('testimonialModal')">‚úï</button>
            </div>
            <form id="testimonialForm">
                <input type="hidden" id="testimonialId">
                <div class="form-row">
                    <div class="form-group">
                        <label>T√™n kh√°ch h√†ng *</label>
                        <input type="text" id="testimonialName" required>
                    </div>
                    <div class="form-group">
                        <label>ƒê·ªãa ch·ªâ</label>
                        <input type="text" id="testimonialLocation" placeholder="H√† N·ªôi">
                    </div>
                </div>
                <div class="form-group">
                    <label>N·ªôi dung ph·∫£n h·ªìi *</label>
                    <textarea id="testimonialContent" required rows="4"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>ƒê√°nh gi√° (sao)</label>
                        <input type="number" id="testimonialRating" min="1" max="5" value="5">
                    </div>
                    <div class="form-group">
                        <label>Tr·∫°ng th√°i</label>
                        <select id="testimonialStatus">
                            <option value="active">Hi·ªÉn th·ªã</option>
                            <option value="inactive">·∫®n</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('testimonialModal')">H·ªßy</button>
                    <button type="submit" class="btn btn-primary">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal FAQ -->
    <div class="modal-backdrop" id="faqModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="faqModalTitle">Th√™m FAQ</h2>
                <button class="close-btn" onclick="closeModal('faqModal')">‚úï</button>
            </div>
            <form id="faqForm">
                <input type="hidden" id="faqId">
                <div class="form-group">
                    <label>C√¢u h·ªèi *</label>
                    <input type="text" id="faqQuestion" required>
                </div>
                <div class="form-group">
                    <label>C√¢u tr·∫£ l·ªùi *</label>
                    <textarea id="faqAnswer" required rows="5"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Th·ª© t·ª± hi·ªÉn th·ªã</label>
                        <input type="number" id="faqOrder" value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>Tr·∫°ng th√°i</label>
                        <select id="faqStatus">
                            <option value="active">Hi·ªÉn th·ªã</option>
                            <option value="inactive">·∫®n</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('faqModal')">H·ªßy</button>
                    <button type="submit" class="btn btn-primary">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Data Storage (In real app, this would be API calls)
        let data = {
            templates: [],
            categories: [],
            cards: [],
            users: [],
            packages: [],
            testimonials: [],
            faqs: [],
            contacts: []
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadSampleData();
            setupNavigation();
            setupForms();
            renderAllTables();
            updateDashboardStats();
            
            // Mobile menu toggle
            document.getElementById('mobileMenuToggle')?.addEventListener('click', function() {
                document.getElementById('sidebar').classList.toggle('active');
            });
        });

        // Load Sample Data
        function loadSampleData() {
            // Categories
            data.categories = [
                { id: 1, name: 'C∆∞·ªõi H·ªèi', description: 'Thi·ªáp m·ªùi ƒë√°m c∆∞·ªõi', icon: 'üíí', order: 1, status: 'active', templateCount: 25 },
                { id: 2, name: 'Sinh Nh·∫≠t', description: 'Thi·ªáp ch√∫c m·ª´ng sinh nh·∫≠t', icon: 'üéÇ', order: 2, status: 'active', templateCount: 30 },
                { id: 3, name: 'T·∫øt', description: 'Thi·ªáp ch√∫c T·∫øt', icon: 'üèÆ', order: 3, status: 'active', templateCount: 20 },
                { id: 4, name: 'T·ªët Nghi·ªáp', description: 'Thi·ªáp ch√∫c m·ª´ng t·ªët nghi·ªáp', icon: 'üéì', order: 4, status: 'active', templateCount: 15 },
                { id: 5, name: 'Doanh Nghi·ªáp', description: 'Thi·ªáp doanh nghi·ªáp', icon: 'üíº', order: 5, status: 'active', templateCount: 18 },
                { id: 6, name: 'T√¨nh Y√™u', description: 'Thi·ªáp k·ª∑ ni·ªám t√¨nh y√™u', icon: 'üíï', order: 6, status: 'active', templateCount: 22 }
            ];

            // Templates
            data.templates = [
                { id: 1, name: 'Romance Bloom', category: 'C∆∞·ªõi H·ªèi', image: 'https://via.placeholder.com/300x200/ff9a9e/ffffff?text=Romance+Bloom', tags: ['C∆∞·ªõi', 'RSVP', 'Nh·∫°c'], status: 'active', order: 1 },
                { id: 2, name: 'Birthday Joy', category: 'Sinh Nh·∫≠t', image: 'https://via.placeholder.com/300x200/ffd6ea/e33a8f?text=Birthday+Joy', tags: ['Sinh nh·∫≠t', 'Animation'], status: 'active', order: 2 },
                { id: 3, name: 'Xu√¢n ·∫§m √Åp', category: 'T·∫øt', image: 'https://via.placeholder.com/300x200/ff6b6b/ffffff?text=Xu√¢n+·∫§m+√Åp', tags: ['T·∫øt', 'Red Pack'], status: 'active', order: 3 }
            ];

            // Cards
            data.cards = [
                { id: 1, sender: 'Nguy·ªÖn VƒÉn A', recipient: 'Nguy·ªÖn Th·ªã B', template: 'Romance Bloom', created: '2025-01-15', views: 245, status: 'active' },
                { id: 2, sender: 'Tr·∫ßn VƒÉn C', recipient: 'L√™ Th·ªã D', template: 'Birthday Joy', created: '2025-01-16', views: 189, status: 'active' },
                { id: 3, sender: 'Ph·∫°m VƒÉn E', recipient: 'Ho√†ng Th·ªã F', template: 'Xu√¢n ·∫§m √Åp', created: '2025-01-17', views: 312, status: 'active' }
            ];

            // Users
            data.users = [
                { id: 1, name: 'Nguy·ªÖn VƒÉn A', email: 'a@example.com', phone: '0901234567', package: 'premium', registered: '2024-12-01', cardCount: 15 },
                { id: 2, name: 'Tr·∫ßn Th·ªã B', email: 'b@example.com', phone: '0902345678', package: 'free', registered: '2024-12-15', cardCount: 3 },
                { id: 3, name: 'L√™ VƒÉn C', email: 'c@example.com', phone: '0903456789', package: 'enterprise', registered: '2024-11-20', cardCount: 89 }
            ];

            // Packages
            data.packages = [
                { id: 1, name: 'C∆° B·∫£n', price: 0, duration: 0, features: '30 m·∫´u c∆° b·∫£n\nH·ªó tr·ª£ vƒÉn b·∫£n & ·∫£nh\nLink c√¥ng khai & QR c∆° b·∫£n', status: 'active', featureCount: 3 },
                { id: 2, name: 'N√¢ng Cao', price: 50000, duration: 1, features: '100+ m·∫´u premium\nNh·∫°c & hi·ªáu ·ª©ng ƒë·ªông\nM√£ QR tu·ª≥ ch·ªânh & RSVP', status: 'active', featureCount: 3 },
                { id: 3, name: 'Cao C·∫•p', price: 2000000, duration: 12, features: 'G√≥i doanh nghi·ªáp, API & in ·∫•n\nHi·ªáu ·ª©ng 3D, video d√†i\nH·ªó tr·ª£ 24/7 v√† qu·∫£n l√Ω s·ª± ki·ªán', status: 'active', featureCount: 3 }
            ];

            // Testimonials
            data.testimonials = [
                { id: 1, name: 'Lan', location: 'H√† N·ªôi', content: 'T·∫°o thi·ªáp c∆∞·ªõi r·∫•t nhanh, kh√°ch m·ªùi RSVP ti·ªán l·ª£i. Giao di·ªán d·ªÖ d√πng v√† ƒë·∫πp m·∫Øt.', rating: 5, status: 'active' },
                { id: 2, name: 'Minh', location: 'TP.HCM', content: 'M·∫´u T·∫øt s√°ng, ph·∫ßn th√™m √¢m nh·∫°c v√† QR gi√∫p m√¨nh g·ª≠i l√¨ x√¨ ti·ªán h∆°n r·∫•t nhi·ªÅu.', rating: 5, status: 'active' }
            ];

            // FAQs
            data.faqs = [
                { id: 1, question: 'T√¥i c√≥ th·ªÉ g·ª≠i k√®m ti·ªÅn m·ª´ng nh∆∞ th·∫ø n√†o?', answer: 'B·∫°n c√≥ th·ªÉ g·ª≠i link k√®m th√¥ng tin chuy·ªÉn kho·∫£n, ho·∫∑c s·ª≠ d·ª•ng t√≠nh nƒÉng m√£ qu√† t·∫∑ng / v√≠ ƒëi·ªán t·ª≠ (t√πy g√≥i).', order: 1, status: 'active' },
                { id: 2, question: 'C√≥ ch√≠nh s√°ch ho√†n ti·ªÅn kh√¥ng?', answer: 'V·ªõi g√≥i tr·∫£ ph√≠, li√™n h·ªá h·ªó tr·ª£ trong 48 gi·ªù ƒë·ªÉ ƒë∆∞·ª£c xem x√©t ho√†n ti·ªÅn theo ƒëi·ªÅu kho·∫£n.', order: 2, status: 'active' }
            ];

            // Contacts
            data.contacts = [
                { id: 1, name: 'Nguy·ªÖn VƒÉn X', email: 'x@example.com', phone: '0901111111', subject: 'H·ªó tr·ª£ k·ªπ thu·∫≠t', content: 'T√¥i kh√¥ng th·ªÉ t·∫£i ·∫£nh l√™n thi·ªáp', sent: '2025-01-17', status: 'pending' },
                { id: 2, name: 'Tr·∫ßn Th·ªã Y', email: 'y@example.com', phone: '0902222222', subject: 'G√≥i & gi√°', content: 'T√¥i mu·ªën bi·∫øt v·ªÅ g√≥i doanh nghi·ªáp', sent: '2025-01-16', status: 'processing' }
            ];
        }

        // Navigation
        function setupNavigation() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    showSection(section);
                    
                    // Update active nav
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Close mobile menu
                    document.getElementById('sidebar')?.classList.remove('active');
                });
            });
        }

        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                updatePageTitle(sectionId);
            }
        }

        function updatePageTitle(sectionId) {
            const titles = {
                'dashboard': 'Dashboard',
                'templates': 'Qu·∫£n l√Ω M·∫´u Thi·ªáp',
                'categories': 'Qu·∫£n l√Ω Danh M·ª•c',
                'cards': 'Qu·∫£n l√Ω Thi·ªáp',
                'users': 'Qu·∫£n l√Ω Ng∆∞·ªùi D√πng',
                'packages': 'Qu·∫£n l√Ω G√≥i & Gi√°',
                'testimonials': 'Qu·∫£n l√Ω Ph·∫£n H·ªìi',
                'faqs': 'Qu·∫£n l√Ω FAQ',
                'contacts': 'Y√™u C·∫ßu Li√™n H·ªá',
                'analytics': 'Th·ªëng K√™'
            };
            document.getElementById('pageTitle').textContent = titles[sectionId] || 'Dashboard';
        }

        // Render Tables
        function renderAllTables() {
            renderTemplatesTable();
            renderCategoriesTable();
            renderCardsTable();
            renderUsersTable();
            renderPackagesTable();
            renderTestimonialsTable();
            renderFAQsTable();
            renderContactsTable();
            renderRecentActivities();
        }

        function renderTemplatesTable() {
            const tbody = document.getElementById('templatesTable');
            if (!tbody) return;
            
            if (data.templates.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" class="empty-state"><div class="icon">üé®</div><h3>Ch∆∞a c√≥ m·∫´u thi·ªáp n√†o</h3><p>H√£y th√™m m·∫´u thi·ªáp ƒë·∫ßu ti√™n!</p></td></tr>';
                return;
            }
            
            tbody.innerHTML = data.templates.map(t => `
                <tr>
                    <td>${t.id}</td>
                    <td><strong>${t.name}</strong></td>
                    <td>${t.category}</td>
                    <td><img src="${t.image}" style="width: 60px; height: 40px; object-fit: cover; border-radius: 4px;" alt="${t.name}"></td>
                    <td>${t.tags.map(tag => `<span class="badge badge-primary">${tag}</span>`).join(' ')}</td>
                    <td><span class="badge ${t.status === 'active' ? 'badge-success' : 'badge-danger'}">${t.status === 'active' ? 'Ho·∫°t ƒë·ªông' : '·∫®n'}</span></td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="editTemplate(${t.id})">S·ª≠a</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteTemplate(${t.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderCategoriesTable() {
            const tbody = document.getElementById('categoriesTable');
            if (!tbody) return;
            
            if (data.categories.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" class="empty-state"><div class="icon">üìÅ</div><h3>Ch∆∞a c√≥ danh m·ª•c n√†o</h3></td></tr>';
                return;
            }
            
            tbody.innerHTML = data.categories.map(c => `
                <tr>
                    <td>${c.id}</td>
                    <td><strong>${c.icon} ${c.name}</strong></td>
                    <td>${c.description || '-'}</td>
                    <td>${c.icon}</td>
                    <td>${c.templateCount}</td>
                    <td>${c.order}</td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="editCategory(${c.id})">S·ª≠a</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteCategory(${c.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderCardsTable() {
            const tbody = document.getElementById('cardsTable');
            if (!tbody) return;
            
            if (data.cards.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8" class="empty-state"><div class="icon">üíù</div><h3>Ch∆∞a c√≥ thi·ªáp n√†o</h3></td></tr>';
                return;
            }
            
            tbody.innerHTML = data.cards.map(c => `
                <tr>
                    <td>${c.id}</td>
                    <td>${c.sender}</td>
                    <td>${c.recipient}</td>
                    <td>${c.template}</td>
                    <td>${formatDate(c.created)}</td>
                    <td>${c.views}</td>
                    <td><span class="badge ${c.status === 'active' ? 'badge-success' : 'badge-danger'}">${c.status === 'active' ? 'Ho·∫°t ƒë·ªông' : '·∫®n'}</span></td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="viewCard(${c.id})">Xem</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteCard(${c.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderUsersTable() {
            const tbody = document.getElementById('usersTable');
            if (!tbody) return;
            
            if (data.users.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8" class="empty-state"><div class="icon">üë•</div><h3>Ch∆∞a c√≥ ng∆∞·ªùi d√πng n√†o</h3></td></tr>';
                return;
            }
            
            tbody.innerHTML = data.users.map(u => `
                <tr>
                    <td>${u.id}</td>
                    <td><strong>${u.name}</strong></td>
                    <td>${u.email}</td>
                    <td>${u.phone}</td>
                    <td><span class="badge badge-primary">${u.package}</span></td>
                    <td>${formatDate(u.registered)}</td>
                    <td>${u.cardCount}</td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="viewUser(${u.id})">Xem</button>
                        <button class="btn btn-warning btn-sm" onclick="editUser(${u.id})">S·ª≠a</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteUser(${u.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderPackagesTable() {
            const tbody = document.getElementById('packagesTable');
            if (!tbody) return;
            
            tbody.innerHTML = data.packages.map(p => `
                <tr>
                    <td>${p.id}</td>
                    <td><strong>${p.name}</strong></td>
                    <td>${p.price === 0 ? 'Mi·ªÖn ph√≠' : formatCurrency(p.price)}</td>
                    <td>${p.duration === 0 ? 'Vƒ©nh vi·ªÖn' : p.duration + ' th√°ng'}</td>
                    <td>${p.features.split('\n')[0]}...</td>
                    <td>${p.featureCount}</td>
                    <td><span class="badge ${p.status === 'active' ? 'badge-success' : 'badge-danger'}">${p.status === 'active' ? 'Ho·∫°t ƒë·ªông' : '·∫®n'}</span></td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="editPackage(${p.id})">S·ª≠a</button>
                        <button class="btn btn-danger btn-sm" onclick="deletePackage(${p.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderTestimonialsTable() {
            const tbody = document.getElementById('testimonialsTable');
            if (!tbody) return;
            
            tbody.innerHTML = data.testimonials.map(t => `
                <tr>
                    <td>${t.id}</td>
                    <td><strong>${t.name}</strong></td>
                    <td>${t.location}</td>
                    <td>${t.content.substring(0, 50)}...</td>
                    <td>${'‚≠ê'.repeat(t.rating)}</td>
                    <td><span class="badge ${t.status === 'active' ? 'badge-success' : 'badge-danger'}">${t.status === 'active' ? 'Hi·ªÉn th·ªã' : '·∫®n'}</span></td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="editTestimonial(${t.id})">S·ª≠a</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteTestimonial(${t.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderFAQsTable() {
            const tbody = document.getElementById('faqsTable');
            if (!tbody) return;
            
            tbody.innerHTML = data.faqs.map(f => `
                <tr>
                    <td>${f.id}</td>
                    <td><strong>${f.question}</strong></td>
                    <td>${f.answer.substring(0, 60)}...</td>
                    <td>${f.order}</td>
                    <td><span class="badge ${f.status === 'active' ? 'badge-success' : 'badge-danger'}">${f.status === 'active' ? 'Hi·ªÉn th·ªã' : '·∫®n'}</span></td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="editFAQ(${f.id})">S·ª≠a</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteFAQ(${f.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderContactsTable() {
            const tbody = document.getElementById('contactsTable');
            if (!tbody) return;
            
            tbody.innerHTML = data.contacts.map(c => `
                <tr>
                    <td>${c.id}</td>
                    <td>${c.name}</td>
                    <td>${c.email}</td>
                    <td>${c.phone}</td>
                    <td>${c.subject}</td>
                    <td>${c.content.substring(0, 40)}...</td>
                    <td>${formatDate(c.sent)}</td>
                    <td><span class="badge ${getContactStatusBadge(c.status)}">${getContactStatusText(c.status)}</span></td>
                    <td class="action-btns">
                        <button class="btn btn-info btn-sm" onclick="viewContact(${c.id})">Xem</button>
                        <button class="btn btn-warning btn-sm" onclick="updateContactStatus(${c.id})">C·∫≠p nh·∫≠t</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteContact(${c.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderRecentActivities() {
            const tbody = document.getElementById('recentActivities');
            if (!tbody) return;
            
            const activities = [
                { time: '2 ph√∫t tr∆∞·ªõc', activity: 'T·∫°o thi·ªáp m·ªõi', user: 'Nguy·ªÖn VƒÉn A', status: 'success' },
                { time: '15 ph√∫t tr∆∞·ªõc', activity: 'ƒêƒÉng k√Ω t√†i kho·∫£n', user: 'Tr·∫ßn Th·ªã B', status: 'success' },
                { time: '1 gi·ªù tr∆∞·ªõc', activity: 'C·∫≠p nh·∫≠t m·∫´u thi·ªáp', user: 'Admin', status: 'info' },
                { time: '2 gi·ªù tr∆∞·ªõc', activity: 'G·ª≠i y√™u c·∫ßu li√™n h·ªá', user: 'L√™ VƒÉn C', status: 'warning' }
            ];
            
            tbody.innerHTML = activities.map(a => `
                <tr>
                    <td>${a.time}</td>
                    <td>${a.activity}</td>
                    <td>${a.user}</td>
                    <td><span class="badge ${getStatusBadgeClass(a.status)}">${a.status}</span></td>
                </tr>
            `).join('');
        }

        // Update Dashboard Stats
        function updateDashboardStats() {
            document.getElementById('statCards').textContent = data.cards.length;
            document.getElementById('statUsers').textContent = data.users.length;
            document.getElementById('statTemplates').textContent = data.templates.length;
            document.getElementById('statRevenue').textContent = formatCurrency(data.cards.length * 50000);
        }

        // Modal Functions
        function openTemplateModal(id = null) {
            const modal = document.getElementById('templateModal');
            const form = document.getElementById('templateForm');
            const title = document.getElementById('templateModalTitle');
            
            // Load categories to select
            const categorySelect = document.getElementById('templateCategory');
            categorySelect.innerHTML = '<option value="">Ch·ªçn danh m·ª•c</option>' + 
                data.categories.map(c => `<option value="${c.name}">${c.name}</option>`).join('');
            
            if (id) {
                const template = data.templates.find(t => t.id === id);
                if (template) {
                    title.textContent = 'S·ª≠a M·∫´u Thi·ªáp';
                    document.getElementById('templateId').value = template.id;
                    document.getElementById('templateName').value = template.name;
                    document.getElementById('templateCategory').value = template.category;
                    document.getElementById('templateImage').value = template.image;
                    document.getElementById('templateTags').value = template.tags.join(', ');
                    document.getElementById('templateStatus').value = template.status;
                    document.getElementById('templateOrder').value = template.order;
                }
            } else {
                title.textContent = 'Th√™m M·∫´u Thi·ªáp';
                form.reset();
                document.getElementById('templateId').value = '';
            }
            
            modal.classList.add('active');
        }

        function openCategoryModal(id = null) {
            const modal = document.getElementById('categoryModal');
            const form = document.getElementById('categoryForm');
            const title = document.getElementById('categoryModalTitle');
            
            if (id) {
                const category = data.categories.find(c => c.id === id);
                if (category) {
                    title.textContent = 'S·ª≠a Danh M·ª•c';
                    document.getElementById('categoryId').value = category.id;
                    document.getElementById('categoryName').value = category.name;
                    document.getElementById('categoryIcon').value = category.icon;
                    document.getElementById('categoryDescription').value = category.description || '';
                    document.getElementById('categoryOrder').value = category.order;
                    document.getElementById('categoryStatus').value = category.status;
                }
            } else {
                title.textContent = 'Th√™m Danh M·ª•c';
                form.reset();
                document.getElementById('categoryId').value = '';
            }
            
            modal.classList.add('active');
        }

        function openPackageModal(id = null) {
            const modal = document.getElementById('packageModal');
            const form = document.getElementById('packageForm');
            const title = document.getElementById('packageModalTitle');
            
            if (id) {
                const pkg = data.packages.find(p => p.id === id);
                if (pkg) {
                    title.textContent = 'S·ª≠a G√≥i';
                    document.getElementById('packageId').value = pkg.id;
                    document.getElementById('packageName').value = pkg.name;
                    document.getElementById('packagePrice').value = pkg.price;
                    document.getElementById('packageDuration').value = pkg.duration;
                    document.getElementById('packageFeatures').value = pkg.features;
                    document.getElementById('packageStatus').value = pkg.status;
                }
            } else {
                title.textContent = 'Th√™m G√≥i';
                form.reset();
                document.getElementById('packageId').value = '';
            }
            
            modal.classList.add('active');
        }

        function openTestimonialModal(id = null) {
            const modal = document.getElementById('testimonialModal');
            const form = document.getElementById('testimonialForm');
            const title = document.getElementById('testimonialModalTitle');
            
            if (id) {
                const testimonial = data.testimonials.find(t => t.id === id);
                if (testimonial) {
                    title.textContent = 'S·ª≠a Ph·∫£n H·ªìi';
                    document.getElementById('testimonialId').value = testimonial.id;
                    document.getElementById('testimonialName').value = testimonial.name;
                    document.getElementById('testimonialLocation').value = testimonial.location;
                    document.getElementById('testimonialContent').value = testimonial.content;
                    document.getElementById('testimonialRating').value = testimonial.rating;
                    document.getElementById('testimonialStatus').value = testimonial.status;
                }
            } else {
                title.textContent = 'Th√™m Ph·∫£n H·ªìi';
                form.reset();
                document.getElementById('testimonialId').value = '';
            }
            
            modal.classList.add('active');
        }

        function openFAQModal(id = null) {
            const modal = document.getElementById('faqModal');
            const form = document.getElementById('faqForm');
            const title = document.getElementById('faqModalTitle');
            
            if (id) {
                const faq = data.faqs.find(f => f.id === id);
                if (faq) {
                    title.textContent = 'S·ª≠a FAQ';
                    document.getElementById('faqId').value = faq.id;
                    document.getElementById('faqQuestion').value = faq.question;
                    document.getElementById('faqAnswer').value = faq.answer;
                    document.getElementById('faqOrder').value = faq.order;
                    document.getElementById('faqStatus').value = faq.status;
                }
            } else {
                title.textContent = 'Th√™m FAQ';
                form.reset();
                document.getElementById('faqId').value = '';
            }
            
            modal.classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Setup Forms
        function setupForms() {
            // Template Form
            document.getElementById('templateForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                const id = document.getElementById('templateId').value;
                const template = {
                    id: id ? parseInt(id) : data.templates.length + 1,
                    name: document.getElementById('templateName').value,
                    category: document.getElementById('templateCategory').value,
                    image: document.getElementById('templateImage').value,
                    tags: document.getElementById('templateTags').value.split(',').map(t => t.trim()).filter(t => t),
                    status: document.getElementById('templateStatus').value,
                    order: parseInt(document.getElementById('templateOrder').value) || 0
                };
                
                if (id) {
                    const index = data.templates.findIndex(t => t.id === parseInt(id));
                    if (index !== -1) data.templates[index] = template;
                } else {
                    data.templates.push(template);
                }
                
                renderTemplatesTable();
                closeModal('templateModal');
                updateDashboardStats();
            });

            // Category Form
            document.getElementById('categoryForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                const id = document.getElementById('categoryId').value;
                const category = {
                    id: id ? parseInt(id) : data.categories.length + 1,
                    name: document.getElementById('categoryName').value,
                    description: document.getElementById('categoryDescription').value,
                    icon: document.getElementById('categoryIcon').value || 'üìÅ',
                    order: parseInt(document.getElementById('categoryOrder').value) || 0,
                    status: document.getElementById('categoryStatus').value,
                    templateCount: 0
                };
                
                if (id) {
                    const index = data.categories.findIndex(c => c.id === parseInt(id));
                    if (index !== -1) {
                        category.templateCount = data.categories[index].templateCount;
                        data.categories[index] = category;
                    }
                } else {
                    data.categories.push(category);
                }
                
                renderCategoriesTable();
                closeModal('categoryModal');
            });

            // Package Form
            document.getElementById('packageForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                const id = document.getElementById('packageId').value;
                const features = document.getElementById('packageFeatures').value;
                const packageData = {
                    id: id ? parseInt(id) : data.packages.length + 1,
                    name: document.getElementById('packageName').value,
                    price: parseInt(document.getElementById('packagePrice').value) || 0,
                    duration: parseInt(document.getElementById('packageDuration').value) || 1,
                    features: features,
                    status: document.getElementById('packageStatus').value,
                    featureCount: features.split('\n').filter(f => f.trim()).length
                };
                
                if (id) {
                    const index = data.packages.findIndex(p => p.id === parseInt(id));
                    if (index !== -1) data.packages[index] = packageData;
                } else {
                    data.packages.push(packageData);
                }
                
                renderPackagesTable();
                closeModal('packageModal');
            });

            // Testimonial Form
            document.getElementById('testimonialForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                const id = document.getElementById('testimonialId').value;
                const testimonial = {
                    id: id ? parseInt(id) : data.testimonials.length + 1,
                    name: document.getElementById('testimonialName').value,
                    location: document.getElementById('testimonialLocation').value,
                    content: document.getElementById('testimonialContent').value,
                    rating: parseInt(document.getElementById('testimonialRating').value) || 5,
                    status: document.getElementById('testimonialStatus').value
                };
                
                if (id) {
                    const index = data.testimonials.findIndex(t => t.id === parseInt(id));
                    if (index !== -1) data.testimonials[index] = testimonial;
                } else {
                    data.testimonials.push(testimonial);
                }
                
                renderTestimonialsTable();
                closeModal('testimonialModal');
            });

            // FAQ Form
            document.getElementById('faqForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                const id = document.getElementById('faqId').value;
                const faq = {
                    id: id ? parseInt(id) : data.faqs.length + 1,
                    question: document.getElementById('faqQuestion').value,
                    answer: document.getElementById('faqAnswer').value,
                    order: parseInt(document.getElementById('faqOrder').value) || 0,
                    status: document.getElementById('faqStatus').value
                };
                
                if (id) {
                    const index = data.faqs.findIndex(f => f.id === parseInt(id));
                    if (index !== -1) data.faqs[index] = faq;
                } else {
                    data.faqs.push(faq);
                }
                
                renderFAQsTable();
                closeModal('faqModal');
            });
        }

        // CRUD Operations
        function editTemplate(id) { openTemplateModal(id); }
        function editCategory(id) { openCategoryModal(id); }
        function editPackage(id) { openPackageModal(id); }
        function editTestimonial(id) { openTestimonialModal(id); }
        function editFAQ(id) { openFAQModal(id); }

        function deleteTemplate(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a m·∫´u thi·ªáp n√†y?')) {
                data.templates = data.templates.filter(t => t.id !== id);
                renderTemplatesTable();
                updateDashboardStats();
            }
        }

        function deleteCategory(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a danh m·ª•c n√†y?')) {
                data.categories = data.categories.filter(c => c.id !== id);
                renderCategoriesTable();
            }
        }

        function deleteCard(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a thi·ªáp n√†y?')) {
                data.cards = data.cards.filter(c => c.id !== id);
                renderCardsTable();
                updateDashboardStats();
            }
        }

        function deleteUser(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ng∆∞·ªùi d√πng n√†y?')) {
                data.users = data.users.filter(u => u.id !== id);
                renderUsersTable();
                updateDashboardStats();
            }
        }

        function deletePackage(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a g√≥i n√†y?')) {
                data.packages = data.packages.filter(p => p.id !== id);
                renderPackagesTable();
            }
        }

        function deleteTestimonial(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ph·∫£n h·ªìi n√†y?')) {
                data.testimonials = data.testimonials.filter(t => t.id !== id);
                renderTestimonialsTable();
            }
        }

        function deleteFAQ(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a FAQ n√†y?')) {
                data.faqs = data.faqs.filter(f => f.id !== id);
                renderFAQsTable();
            }
        }

        function deleteContact(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a y√™u c·∫ßu li√™n h·ªá n√†y?')) {
                data.contacts = data.contacts.filter(c => c.id !== id);
                renderContactsTable();
            }
        }

        function viewCard(id) {
            const card = data.cards.find(c => c.id === id);
            if (card) {
                alert(`Xem thi·ªáp:\nNg∆∞·ªùi g·ª≠i: ${card.sender}\nNg∆∞·ªùi nh·∫≠n: ${card.recipient}\nM·∫´u: ${card.template}\nL∆∞·ª£t xem: ${card.views}`);
            }
        }

        function viewUser(id) {
            const user = data.users.find(u => u.id === id);
            if (user) {
                alert(`Th√¥ng tin ng∆∞·ªùi d√πng:\nH·ªç t√™n: ${user.name}\nEmail: ${user.email}\nS·ªë ƒëi·ªán tho·∫°i: ${user.phone}\nG√≥i: ${user.package}\nS·ªë thi·ªáp: ${user.cardCount}`);
            }
        }

        function viewContact(id) {
            const contact = data.contacts.find(c => c.id === id);
            if (contact) {
                alert(`Y√™u c·∫ßu li√™n h·ªá:\nH·ªç t√™n: ${contact.name}\nEmail: ${contact.email}\nS·ªë ƒëi·ªán tho·∫°i: ${contact.phone}\nCh·ªß ƒë·ªÅ: ${contact.subject}\nN·ªôi dung: ${contact.content}`);
            }
        }

        function editUser(id) {
            alert('Ch·ª©c nƒÉng s·ª≠a ng∆∞·ªùi d√πng s·∫Ω ƒë∆∞·ª£c t√≠ch h·ª£p v·ªõi API backend.');
        }

        function updateContactStatus(id) {
            const contact = data.contacts.find(c => c.id === id);
            if (contact) {
                const statuses = ['pending', 'processing', 'completed'];
                const currentIndex = statuses.indexOf(contact.status);
                contact.status = statuses[(currentIndex + 1) % statuses.length];
                renderContactsTable();
            }
        }

        // Helper Functions
        function formatDate(dateStr) {
            if (!dateStr) return '-';
            const date = new Date(dateStr);
            return date.toLocaleDateString('vi-VN');
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);
        }

        function getStatusBadgeClass(status) {
            const classes = {
                'success': 'badge-success',
                'warning': 'badge-warning',
                'info': 'badge-info',
                'danger': 'badge-danger'
            };
            return classes[status] || 'badge-primary';
        }

        function getContactStatusBadge(status) {
            const badges = {
                'pending': 'badge-warning',
                'processing': 'badge-info',
                'completed': 'badge-success'
            };
            return badges[status] || 'badge-primary';
        }

        function getContactStatusText(status) {
            const texts = {
                'pending': 'Ch∆∞a x·ª≠ l√Ω',
                'processing': 'ƒêang x·ª≠ l√Ω',
                'completed': 'ƒê√£ x·ª≠ l√Ω'
            };
            return texts[status] || status;
        }

        // Close modal on backdrop click
        document.querySelectorAll('.modal-backdrop').forEach(backdrop => {
            backdrop.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>




